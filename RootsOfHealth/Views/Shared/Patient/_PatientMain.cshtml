@model RootsOfHealth.Models.PatientMainBO
@using RootsOfHealth.Commom;

<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.16/dist/summernote-lite.min.css" rel="stylesheet">
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link href="~/Content/css/jquery.timeselector.css" rel="stylesheet" />
<link href="~/css/CareplanPatient.css" rel="stylesheet" />
<link href="~/css/CareplanNeedsAndGoals.css" rel="stylesheet" />
<link href="~/css/CarePlanSummary.css" rel="stylesheet" />

@{
    if (Model != null)
    {
        Model.DateOfBirth = Model.DateOfBirth == "" || Model.DateOfBirth == null ? "" : Model.DateOfBirth;
    }


    var modulePermissions = new Common().GetMainModulesPermission(Convert.ToInt32(Session["userid"]));

}


<style>
    select#ddlProgramType {
        display: block !important;
    }

    label#txtNotesReadonly1 {
        display: block !important;
    }

    .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active, .ui-state-active.ui-button:hover {
        border: 1px solid #22baa0;
        background: #22baa0;
    }

    ul#ui-id-1 {
        position: fixed;
        left: 0px;
        right: 0px;
        top: 15%;
        z-index: 9999999999999999;
        max-width: 523px;
        margin: auto;
        text-align: center;
        height: 200px;
        overflow-y: scroll;
        overflow-x: hidden;
    }

    .datepick {
        background: url(../images/time-icon.png) no-repeat 0 0;
        background-position: 96% 7px;
        cursor: pointer;
    }

    .NotesScroll {
        height: 450px;
        overflow-x: hidden;
        overflow: auto;
    }

    .ReadonlyNotesScroll {
        height: 450px;
        overflow-x: hidden;
        overflow: auto;
    }

    .txtField {
        max-width: 495px;
        width: 100% !important;
        font-size: 13px;
    }
    /*16-9-19 start*/
    form#ReadonlyformNotes .form-group {
        display: flex;
        flex-wrap: wrap;
    }


        form#ReadonlyformNotes .form-group label {
            flex: 0 0 25%;
            max-width: 75%;
        }

            form#ReadonlyformNotes .form-group label#txtNotesReadonly1 {
                flex: 0 0 75%;
                max-width: 75%;
            }

    .show-more {
        padding-left: 0px;
    }

    #content .sidebar-right .appointement-row .content {
        margin-bottom: 0px;
    }

    .appointement-row .editicons {
        padding-left: 0px;
        padding-top: 5px;
    }

    #content .sidebar-right .appointement-row {
        float: left;
        width: 100%;
        display: flex;
        flex-wrap: wrap;
    }

    .appointement-row .calender-img {
        flex: 0 0 10%;
        max-width: 10%;
        margin-right: 2% !important;
    }

    .appointement-row h6 {
        flex: 0 0 88%;
        max-width: 88%;
    }
    /*16-9-19 end*/

    .ssn-icon {
        position: relative
    }

    .ssn-icon-eye {
        position: absolute;
        top: 50%;
        right: 5px;
        transform: translateY(-50%);
        font-size: 13px;
    }

        .ssn-icon-eye.showpwd i.close-eye {
            display: block !important;
        }

        .ssn-icon-eye.showpwd i.open-eye {
            display: none !important;
        }

        .ssn-icon-eye.showpwd {
            display: block !important;
        }

        .ssn-icon-eye.showpwd {
            display: none;
        }

    .sidebar-right button#hideAppointmentContent {
        margin-left: 20px;
    }

    .appointement-form label {
        color: #4d4d4d;
        font-size: 13px;
        flex: 0 0 150px;
        max-width: 150px;
        padding-right: 15px;
    }

    .cp_request_status {
        display: block;
        align-items: center;
        margin-top: 20px;
        font-size: 14px;
    }

        .cp_request_status div#careplanStatus {
            display: flex;
            width: 100%;
            margin: 0 0 15px;
        }

            .cp_request_status div#careplanStatus label {
                display: block;
                margin-right: 5%;
                font-weight: 500;
                text-transform: uppercase;
            }

        .cp_request_status div#careplanStatus {
            margin-right: 10px;
            font-size: 14px;
        }

    #RequestUserModel .btn.dropdown-toggle .filter-option {
        height: 40px;
        display: flex;
        align-items: center;
    }

    #RequestUserModel .btn.dropdown-toggle {
        height: 40px;
        background-position: 97% 14px;
        border-radius: 5px;
    }

    textarea#RequestMessage {
        display: block !important;
        min-height: 140px;
    }

    ul.needGoalsChecklist {
        list-style: none;
        padding: 0;
        margin: 0 0 15px;
    }

        ul.needGoalsChecklist label.checkbox_input span {
            position: relative;
            padding-left: 26px;
            height: auto;
            width: auto;
        }

        ul.needGoalsChecklist li .form-group.hasGoal {
            padding-right: 30px;
        }

        ul.needGoalsChecklist label.checkbox_input {
            margin: 0;
        }

        ul.needGoalsChecklist ul {
            list-style: none;
            padding: 0 0 0px 26px;
        }

        ul.needGoalsChecklist li .form-group {
            margin: 0;
            position: relative;
        }

        ul.needGoalsChecklist > li > .form-group {
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        ul.needGoalsChecklist > li:first-child > .form-group {
            border-top: 1px solid #eee;
        }

    label.checkbox_input input + span::after {
        height: 20px;
        width: 20px;
    }

    ul.needGoalsChecklist > li ul li .form-group {
        padding: 10px 0;
        border-bottom: 1px solid #eee;
    }

    ul.needGoalsChecklist label.checkbox_input {
        cursor: pointer;
    }

    ul.needGoalsChecklist > li ul {
        padding-top: 0;
        border-bottom: 1px solid #eee;
    }

    #ViewCareplanChanges h4.modal-title {
        font-size: 20px;
        text-transform: uppercase;
    }

    .selectAll label.checkbox_input {
        display: block;
        width: 100%;
    }

        .selectAll label.checkbox_input input + span {
            width: auto;
            height: auto;
            padding-left: 30px;
        }

    ul.needGoalsChecklist > li ul li:last-child .form-group {
        border-bottom: 0;
    }

    #ViewCareplanChanges .modal-dialog {
        width: 100%;
        max-width: 900px;
    }

    #ViewCareplanChanges .modal-body {
        max-height: calc(100vh - 125px);
        overflow: auto;
    }

    ul.needGoalsChecklist li .form-group i.down_arrow {
        position: absolute;
        right: 5px;
        top: 19px;
        color: #a1a1a1;
        transition: all ease 0.4s;
        -webkit-transition: all ease 0.4s;
        cursor: pointer;
    }

    ul.needGoalsChecklist li .form-group.active i.down_arrow {
        transform: rotate( -180deg );
    }
</style>
<div class="tab-pane fade test" id="Profile" role="tabpanel" aria-labelledby="Profile-tab">
    <!-- Inner content start here  -->
    <div class="inner-content">
        <div class="paitent-detail">
            <div class="row">
                <div id="pat_out_div" class="col-lg-12 col-md-12 col-sm-12 col-12">
                    @*<div class="col-lg-8 col-md-12 col-sm-12 col-12 pr-0">*@
                    <div class="paitent-detail-left">
                        <div class="detail-heading d-flex">
                            <h2>Client Profile</h2>

                            <div class="detail-button ml-auto">
                                <a href="javascript:void(0)" id="btnAMDProfile" class="btn btn-success mb-2">
                                    AMD Profile
                                </a>

                                <a href='javaScript:void(0)' onclick="getCarePlanList()"
                                   class="btn btn-success label-fields" data-toggle="carePlansSidebar">
                                    Care Plans<span class="careplanCount">@(Model.CareplanCount == 0 ? "" : "(" + @Model.CareplanCount.ToString() + ")")</span>
                                </a>

                                @if (modulePermissions.Where(x => x.ModuleName == "Appointment" && (x.CanCreate == true || x.CanList == true)).Any())
                                {
                                    <a href='javaScript:void(0)' onclick="LoadAppointmentsAndLocations()"
                                       id="btnPatientAppointments" class="btn btn-success label-fields">
                                        Appointments
                                    </a>
                                }
                                @if (modulePermissions.Where(x => x.ModuleName == "Notes" && (x.CanCreate == true || x.CanList == true || x.CanDelete == true || x.CanUpdate == true)).Any())
                                {
                                    <a href='javaScript:void(0)' onclick="LoadAllNotes()"
                                       id="btnPatientNotes" class="btn btn-success label-fields">
                                        Notes
                                    </a>
                                }
                                @if (modulePermissions.Where(x => x.ModuleName == "Client" && x.CanUpdate == true).Any())
                                {
                                    <a href='javaScript:void(0)' onclick="ActivateTab(@Model.PatientID,'Profile-tab')"
                                       id="btnProfileEdit" class="btn btn-success label-fields">
                                        <i class="far fa-edit"></i>
                                        Edit
                                    </a>
                                }


                                <a style="display:none" class="btn btn-success " href="javascript:{}" id="btnaddprogram" data-toggle="modal" data-target="#myModal"><span class="add-icon"></span> Add/Remove Client Programs</a>
                                <a href="javascript:{}" onclick="DisplayForm(@Model.PatientID,'Profile-tab')" class="btn btn-success btnDisplayProgram ">
                                    <i class="far fa-edit"></i>
                                    Display
                                </a>
                                <a tabindex="57" href="javascript:{}" style="border: 1px solid rgb(161, 161, 161); background-color: rgb(161, 161, 161);" onclick="return ProfileSave();" id="ProfileSave" class="btn btn-success btnprogramsave disabled">
                                    <i class="far fa-save"></i>
                                    Save
                                </a>

                            </div>


                        </div>
                        <div class="SidebarScroll scroll inner-main-content">



                            <div class="top-image-row d-flex profileImgRow">
                                <div class="top-image-left">

                                    <div class="paitent-img">
                                        @*<img class="img-fluid" id="patientpic" src="images/paitent-img.png" alt="">*@
                                        @if (string.IsNullOrEmpty(Model.PatientImg))
                                        {

                                            <img class="img-fluid" id="patientpic" src="/images/avatar.png" width="200" height="200" />
                                        }
                                        else
                                        {
                                            <img class="img-fluid" id="patientpic" src="~/Files/@Model.PatientImg" alt="no image">
                                        }
                                    </div>
                                    @*<a  href="#" class="upload-link">Upload Image</a>*@



                                </div>
                                <!----------------------Score  Start------------------------------------------------>
                                <div class="score-result d-flex d-none" id="ScoreStatus_0">
                                    <div class="score-full">
                                        <div class="form-row-first label-fields mt-0">
                                            <div class="top-form-row d-flex height-auto">
                                                <div class="two-columns">

                                                    <label class="label-fields">
                                                        Score
                                                    </label>
                                                </div>
                                                <div class="two-columns">

                                                    <label class="label-fields">
                                                        Status
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="bootom-form-row d-flex">
                                                <div class="two-columns">

                                                    <label id="txtoverallscore" class="label-fields"></label>

                                                </div>

                                                <div class="two-columns">

                                                    <label id="txtoverallstatus" class="label-fields"></label>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <!----------------------Score  end------------------------------------------------>
                            </div>
                            <form id="frmProfile" method="post" class="detail-patient-form" enctype="multipart/form-data">

                                <input class="Add" type="file" tabindex="1" name="PatientImg" id="PatientImg" />


                                <div class="form-row-first">
                                    <div class="top-form-row d-flex">
                                        <div class="three-columns">
                                            <label>First name</label>
                                        </div>
                                        <div class="three-columns">
                                            <label>Middle Name</label>
                                        </div>
                                        <div class="three-columns">
                                            <label>Last Name</label>
                                        </div>
                                    </div>
                                    <div class="bootom-form-row d-flex">
                                        <div class="three-columns border-bottom-none">
                                            <label class="label-fields">@Model.FirstName</label>
                                            <input tabindex="2" type="text" id="txtFirstName" name="FirstName" class="form-control" maxlength="50"
                                                   value="@Model.FirstName" placeholder="" required>
                                        </div>
                                        <div class="three-columns border-bottom-none">
                                            <label class="label-fields">@Model.MiddleName</label>
                                            <input tabindex="3" type="text" id="txtMiddleName" name="MiddleName" class="form-control" maxlength="50"
                                                   value="@Model.MiddleName" placeholder="">
                                        </div>
                                        <div class="three-columns border-bottom-none">
                                            <label class="label-fields">@Model.LastName</label>
                                            <input tabindex="4" type="text" id="txtLastName" name="LastName" class="form-control" maxlength="50"
                                                   placeholder="" value="@Model.LastName">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-12 col-12">
                                        <div class="form-row-first">
                                            <div class="top-form-row d-flex">
                                                <div class="one-columns">
                                                    <label>Preferred Name/Nickname</label>
                                                </div>

                                            </div>
                                            <div class="bootom-form-row d-flex">
                                                <div class="one-columns">
                                                    <label class="label-fields">@Model.NickName</label>
                                                    <input tabindex="5" type="text" id="txtNickName" name="NickName" class="form-control" maxlength="50"
                                                           placeholder="" value="@Model.NickName">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 col-12 pl-0">
                                        <div class="form-row-first">
                                            <div class="top-form-row d-flex">
                                                <div class="one-columns">
                                                    <label class="Add">Which gender do you identify as?</label>
                                                    <label class="label-fields">Gender</label>
                                                </div>

                                            </div>
                                            <div class="bootom-form-row d-flex">
                                                <div class="one-columns">
                                                    <label class="label-fields" id="lblGender">@Model.Gender</label>
                                                    <select tabindex="6" id="ddGender" name="Gender" class="form-control">
                                                        <option value="0">Select</option>
                                                        <option value="Male">Male</option>
                                                        <option value="Female">Female</option>
                                                        <option value="Transgender Male/Trans Man/Female-to-Male">
                                                            Transgender Male/Trans Man/Female-to-Male
                                                        </option>
                                                        <option value="Transgender Female/Trans Woman/Male-to-Female">
                                                            Transgender Female/Trans Woman/Male-to-Female
                                                        </option>
                                                        <option value="Genderqueer (neither exclusively male or
                                                                    female)">
                                                            Genderqueer (neither exclusively male or
                                                            female)
                                                        </option>
                                                        <option value="Other">Other</option>
                                                    </select>

                                                </div>
                                            </div>

                                            <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                                <div class="form-row-first mt-0 mb-3" style="display:none" id="divOtherGender">
                                                    <div class="top-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label>Other Gender</label>
                                                        </div>

                                                    </div>
                                                    <div class="bootom-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label class="label-fields">@Model.OtherGender</label>
                                                            <input tabindex="7" type="text" id="txtOtherGender" name="OtherGender" class="form-control" maxlength="200"
                                                                   placeholder="" value="@Model.OtherGender">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>



                                        </div>
                                    </div>
                                </div>
                                <div class="form-row-first">
                                    <div class="top-form-row d-flex">
                                        <div class="two-columns">
                                            <label>Date of Birth</label>
                                        </div>
                                        <div class="two-columns">
                                            <label>Social Security Number</label>
                                        </div>

                                    </div>
                                    <div class="bootom-form-row d-flex">
                                        <div class="two-columns">

                                            <label class="label-fields">@Model.DateOfBirth</label>
                                            <input tabindex="8" type="text" id="txtDOB" name="DateOfBirth" class="form-control date" maxlength="50"
                                                   placeholder="" value="@Model.DateOfBirth" style="width:100px">
                                        </div>
                                        <div class="two-columns">
                                            <div class="ssn-icon">
                                                <div class="ssn-label">
                                                    <div class="ssn-label-inner set-eye-pos">
                                                        <label class="label-fields lbl-hide">@Model.SocialSecurityNumber</label>
                                                        <div class="stardiv">*********</div>
                                                        <div class="ssn-icon-label">
                                                            <i class="fa fa-eye open-eye" style="display:none" onclick="Hidessnlabel()"></i>
                                                            <i class="fa fa-eye-slash close-eye" onclick="showSSnlabel()"></i>
                                                        </div>
                                                    </div>

                                                </div>
                                                <input tabindex="9" type="password" id="txtSocialSecNo" name="SocialSecurityNumber" class="form-control" maxlength="50"
                                                       placeholder="000-00-0000" value="@Model.SocialSecurityNumber">
                                                <div class="ssn-icon-eye">
                                                    <i class="fa fa-eye open-eye" style="display:none" onclick="showSSn()"></i>
                                                    <i class="fa fa-eye-slash close-eye" style="display:none" onclick="Hidessn()"></i>
                                                </div>

                                            </div>

                                        </div>

                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12">
                                        <div class="form-row-first">
                                            <div class="top-form-row d-flex">
                                                <div class="one-columns">
                                                    <label class="Add">
                                                        Race/Ethnicity (Select all that
                                                        apply)
                                                    </label>
                                                    <label class="label-fields">
                                                        Race/Ethnicity
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="bootom-form-row d-flex">
                                                <div class="one-columns">
                                                    <label class="label-fields" id="lblRace">@Model.RaceEthnicity</label>
                                                    <select tabindex="10" id="ddRace" class="selectboxmultiple" multiple>
                                                        <option value="Select All">Select All</option>
                                                        <option value="Black/African/African-American">Black/African/African-American</option>
                                                        <option value="Latino/Hispanic">Latino/Hispanic</option>
                                                        <option value="White/Caucasian">White/Caucasian</option>
                                                        <option value="Asian">Asian</option>
                                                        <option value="Native Hawaiian/Pacific Islander">
                                                            Native Hawaiian/Pacific Islander
                                                        </option>
                                                        <option value="Native American/Alaskan">Native American/Alaskan</option>
                                                        <option value="Other">Other</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                                <div class="form-row-first mt-0 mb-3" id="OtherRace" style='display:none;'>
                                                    <div class="top-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label>Other Race/Ethnicity</label>
                                                        </div>

                                                    </div>
                                                    <div class="bootom-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label class="label-fields" id="lblOtherRace">@Model.OtherRace</label>
                                                            <input tabindex="11" type="text" id="txtOtherRace" name="OtherRace" class="form-control" maxlength="500"
                                                                   placeholder="" value="@Model.OtherRace">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-8 col-md-8 col-sm-12 col-12 pl-0">
                                        <div class="form-row-first">
                                            <div class="top-form-row d-flex">
                                                <div class="two-columns">
                                                    <label>Address</label>
                                                </div>
                                                <div class="two-columns">
                                                    <label class="Add">
                                                        Is this address where you live the majority
                                                        of the time?
                                                    </label>
                                                    <label class="label-fields">
                                                        IsPermanentAddress
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="bootom-form-row d-flex">
                                                <div class="two-columns">
                                                    <label class="label-fields">@Model.Address</label>
                                                    <input tabindex="12" type="text" id="txtAddress" name="Address" class="form-control" maxlength="200"
                                                           placeholder="" value="@Model.Address">
                                                </div>
                                                <div class="two-columns">
                                                    <label class="label-fields" id="lblPerAdd">@Model.IsPermanentAddress</label>
                                                    <select tabindex="13" id="ddPermanentAddress" name="IsPermanentAddress" class="form-control">
                                                        <option value="0">Select</option>
                                                        <option value="true">Yes</option>
                                                        <option value="false">No</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                                <div class="form-row-first mt-1">
                                                    <div class="top-form-row d-flex">
                                                        <div class="three-columns">
                                                            <label>City</label>
                                                        </div>
                                                        <div class="three-columns">
                                                            <label>State</label>
                                                        </div>
                                                        <div class="three-columns">
                                                            <label>Zip</label>
                                                        </div>
                                                    </div>
                                                    <div class="bootom-form-row d-flex mb-1">
                                                        <div class="three-columns border-bottom-none">
                                                            <label class="label-fields">@Model.City</label>
                                                            <input tabindex="14" type="text" id="txtCity" name="City" class="form-control" maxlength="50"
                                                                   placeholder="" value="@Model.City">
                                                        </div>
                                                        <div class="three-columns border-bottom-none">
                                                            <label class="label-fields">@Model.State</label>
                                                            <input tabindex="15" type="text" id="txtState" name="State" class="form-control" maxlength="50"
                                                                   placeholder="" value="@Model.State">
                                                        </div>
                                                        <div class="three-columns border-bottom-none">
                                                            <label class="label-fields">@Model.Zip</label>
                                                            <input tabindex="16" type="text" id="txtZip" name="Zip" class="form-control" maxlength="20"
                                                                   placeholder="" value="@Model.Zip">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="custom-row">

                                                <div class="form-row-first m-0" id="divPermanentAddress" style='display:none'>
                                                    <div class="top-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label class="Add">what is that address?</label>
                                                            <label class="label-fields">Permanent Address</label>
                                                        </div>

                                                    </div>
                                                    <div class="bootom-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label class="label-fields">@Model.PermanentAddress</label>
                                                            <input tabindex="17" type="text" id="txtPermanentAddress" name="PermanentAddress" class="form-control" maxlength="200"
                                                                   placeholder="" value="@Model.PermanentAddress">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                        </div>
                                    </div>
                                </div>

                                <div class="form-row-first">
                                    <div class="top-form-row d-flex">
                                        <div class="three-columns">
                                            <label>Email Address</label>
                                        </div>
                                        <div class="three-columns">
                                            <label>Home Phone</label>
                                        </div>
                                        <div class="three-columns">
                                            <label>Cell Phone</label>
                                        </div>
                                    </div>
                                    <div class="bootom-form-row d-flex">
                                        <div class="three-columns border-bottom-none">
                                            <label class="label-fields">@Model.EmailAddress</label>
                                            <input tabindex="18" type="text" id="txtEmailAddress" name="EmailAddress" class="form-control" maxlength="50"
                                                   placeholder="" value="@Model.EmailAddress">
                                        </div>
                                        <div class="three-columns border-bottom-none">
                                            <label class="label-fields">@Model.HomePhone</label>
                                            <input tabindex="19" type="text" id="txtHomePhone" name="HomePhone" class="form-control" maxlength="20"
                                                   placeholder="(000) 000-0000" value="@Model.HomePhone">
                                        </div>
                                        <div class="three-columns border-bottom-none">
                                            <label class="label-fields">@Model.CellPhone</label>
                                            <input tabindex="20" type="text" id="txtCellPhone" name="CellPhone" class="form-control" maxlength="20"
                                                   placeholder="(000) 000-0000" value="@Model.CellPhone">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row-first">
                                    <div class="top-form-row d-flex">
                                        <div class="one-columns">
                                            <label>Best way to contact you</label>
                                        </div>

                                    </div>
                                    <div class="bootom-form-row d-flex">
                                        <div class="three-columns">
                                            <label class="label-fields" id="lblContact">@Model.WayToContact</label>
                                            <select tabindex="21" id="ddWayToContact" name="WayToContact" class="form-control">
                                                <option value="Home">Home</option>
                                                <option value="Cell">Cell</option>
                                                <option value="Email">Email</option>
                                                <option value="Other">Other</option>
                                            </select>

                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                        <div class="form-row-first mt-0 mb-3" style='display:none;' id="OtherContact">
                                            <div class="top-form-row d-flex">
                                                <div class="one-columns">
                                                    <label>Other Contact</label>
                                                </div>

                                            </div>
                                            <div class="bootom-form-row d-flex">
                                                <div class="one-columns">
                                                    <label class="label-fields">@Model.OtherContact</label>
                                                    <input tabindex="22" type="text" id="txtOtherContact" name="OtherContact" class="form-control" maxlength="50"
                                                           placeholder="" value="@Model.OtherContact">
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>


                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                        <div class="form-row-first">
                                            <div class="top-form-row d-flex">
                                                <div class="one-columns">
                                                    <label class="Add">
                                                        How many children do you have and
                                                        what are their ages?
                                                    </label>
                                                    <label class="label-fields">
                                                        Number Of Children
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="bootom-form-row d-flex">
                                                <div class="three-columns">
                                                    <label class="label-fields" id="lblNumChildren">@Model.PatientChildren</label>
                                                    <label class="label-fields" id="lblAgeChildren" hidden="hidden">@Model.PatientChildrensAges</label>
                                                    <input tabindex="23" type="number" onchange="addChildrenDiv()" id="txtChildren" name="PatientChildren" class="form-control" maxlength="50"
                                                           placeholder="" value="@Model.PatientChildren">
                                                    @*<input  type="button" id="btnchildren" value="submit"/>*@
                                                </div>

                                            </div>

                                            <div class="ChildrenAgeDiv">

                                            </div>



                                            <div class="ChildrenAgeTemplate" style="display:none">
                                                <div class="form-row-first">
                                                    <div class="top-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label>
                                                                Children Age #number
                                                            </label>
                                                        </div>

                                                    </div>
                                                    <div class="bootom-form-row mb-2">
                                                        <div class="row">
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-6 pr-0">
                                                                <div class="form-row-first">
                                                                    <div class="top-form-row d-flex">
                                                                        <div class="one-columns">
                                                                            <label> Years</label>
                                                                        </div>

                                                                    </div>
                                                                    <div class="bootom-form-row d-flex ">
                                                                        <div class="one-columns">
                                                                            <input tabindex="23" type="text" id="#yearid"
                                                                                   class="form-control"
                                                                                   placeholder="">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-6">
                                                                <div class="form-row-first">
                                                                    <div class="top-form-row d-flex">
                                                                        <div class="one-columns">
                                                                            <label>Days</label>
                                                                        </div>

                                                                    </div>
                                                                    <div class="bootom-form-row d-flex">
                                                                        <div class="one-columns">
                                                                            <input tabindex="23" type="text" id="#daysid"
                                                                                   class="form-control"
                                                                                   placeholder="">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>






                                            <div class="ChildrenAgeTemp" style="display:none">
                                                <div class="form-row-first">
                                                    <div class="top-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label>
                                                                Children Age #number
                                                            </label>
                                                        </div>

                                                    </div>
                                                    <div class="bootom-form-row mb-2">
                                                        <div class="row">
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-6 pr-0">
                                                                <div class="form-row-first">
                                                                    <div class="top-form-row d-flex">
                                                                        <div class="one-columns">
                                                                            <label> Years</label>
                                                                        </div>

                                                                    </div>
                                                                    <div class="bootom-form-row d-flex ">
                                                                        <div class="one-columns">
                                                                            <label class="label-fields" id="#yearid"></label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-6">
                                                                <div class="form-row-first">
                                                                    <div class="top-form-row d-flex">
                                                                        <div class="one-columns">
                                                                            <label>Days</label>
                                                                        </div>

                                                                    </div>
                                                                    <div class="bootom-form-row d-flex">
                                                                        <div class="one-columns">
                                                                            <label class="label-fields" id="#daysid"></label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>




                                        </div>
                                    </div>
                                </div>
                                <div class="row">

                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                        <div class="form-row-first">
                                            <div class="top-form-row d-flex">
                                                <div class="one-columns">
                                                    <label>
                                                        Emergency Contact #1
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="bootom-form-row mb-3 pb-0">
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12 pr-0">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label> Name</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex ">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.EmergencyContact1Name</label>
                                                                    <input tabindex="24" type="text" id="txtEmergencyContact1Name" name="EmergencyContact1Name" maxlength="50"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.EmergencyContact1Name">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12 pr-0">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label> Email Address</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.EmergencyContact1EmailAddress</label>
                                                                    <input tabindex="25" type="text" id="txtEmergencyContact1EmailAddress" name="EmergencyContact1EmailAddress" maxlength="200"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.EmergencyContact1EmailAddress">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>


                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Relationship</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.EmergencyContact1Relationship</label>
                                                                    <input tabindex="26" type="text" id="txtEmergencyContact1Relationship" name="EmergencyContact1Relationship" maxlength="50"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.EmergencyContact1Relationship">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-8 col-md-8 col-sm-12 col-12 pr-0">
                                                        <div class="form-row-first">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Address</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.EmergencyContact1Address</label>
                                                                    <input tabindex="27" type="text" id="txtEmergencyContact1Address" name="EmergencyContact1Address" maxlength="200"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.EmergencyContact1Address">
                                                                </div>
                                                            </div>

                                                            <div class="col-12">


                                                                <div class="form-row-first mb-2 mt-1">
                                                                    <div class="top-form-row d-flex ">
                                                                        <div class="three-columns">
                                                                            <label>City</label>
                                                                        </div>
                                                                        <div class="three-columns">
                                                                            <label>State</label>
                                                                        </div>
                                                                        <div class="three-columns">
                                                                            <label>Zip</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="bootom-form-row d-flex ">
                                                                        <div class="three-columns border-bottom-none">
                                                                            <label class="label-fields">@Model.EmergencyContact1City</label>
                                                                            <input tabindex="28" type="text" id="txtEmergencyContact1City" name="EmergencyContact1City" class="form-control" maxlength="50"
                                                                                   placeholder="" value="@Model.EmergencyContact1City">
                                                                        </div>
                                                                        <div class="three-columns border-bottom-none">
                                                                            <label class="label-fields">@Model.EmergencyContact1State</label>
                                                                            <input tabindex="29" type="text" id="txtEmergencyContact1State" name="EmergencyContact1State" class="form-control" maxlength="50"
                                                                                   placeholder="" value="@Model.EmergencyContact1State">
                                                                        </div>
                                                                        <div class="three-columns border-bottom-none">
                                                                            <label class="label-fields">@Model.EmergencyContact1Zip</label>
                                                                            <input tabindex="30" type="text" id="txtEmergencyContact1Zip" name="EmergencyContact1Zip" class="form-control" maxlength="20"
                                                                                   placeholder="" value="@Model.EmergencyContact1Zip">
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </div>

                                                        </div>


                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>



                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                        <div class="form-row-first">
                                            <div class="top-form-row d-flex">
                                                <div class="one-columns">
                                                    <label>
                                                        Emergency Contact #2
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="bootom-form-row mb-2 mt-1">
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12 pr-0">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label> Name</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex ">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.EmergencyContact2Name</label>
                                                                    <input tabindex="31" type="text" id="txtEmergencyContact2Name" name="EmergencyContact2Name" maxlength="50"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.EmergencyContact2Name">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12 pr-0">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label> Email Address</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.EmergencyContact2EmailAddress</label>
                                                                    <input tabindex="32" type="text" id="txtEmergencyContact2EmailAddress" name="EmergencyContact2EmailAddress" maxlength="50"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.EmergencyContact2EmailAddress">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>


                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Relationship</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.EmergencyContact2Relationship</label>
                                                                    <input tabindex="33" type="text" id="txtEmergencyContact2Relationship" name="EmergencyContact2Relationship" maxlength="50"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.EmergencyContact2Relationship">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-8 col-md-8 col-sm-12 col-12 pr-0">
                                                        <div class="form-row-first">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Address</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.EmergencyContact2Address</label>
                                                                    <input tabindex="34" type="text" id="txtEmergencyContact2Address" name="EmergencyContact2Address" maxlength="200"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.EmergencyContact2Address">
                                                                </div>
                                                            </div>


                                                            <div class="col-12">


                                                                <div class="form-row-first mb-3 mt-1">
                                                                    <div class="top-form-row d-flex">
                                                                        <div class="three-columns">
                                                                            <label>City</label>
                                                                        </div>
                                                                        <div class="three-columns">
                                                                            <label>State</label>
                                                                        </div>
                                                                        <div class="three-columns">
                                                                            <label>Zip</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="bootom-form-row d-flex">
                                                                        <div class="three-columns border-bottom-none">
                                                                            <label class="label-fields">@Model.EmergencyContact2City</label>
                                                                            <input tabindex="35" type="text" id="txtEmergencyContact2City" name="EmergencyContact2City" class="form-control" maxlength="50"
                                                                                   placeholder="" value="@Model.EmergencyContact2City">
                                                                        </div>
                                                                        <div class="three-columns border-bottom-none">
                                                                            <label class="label-fields">@Model.EmergencyContact2State</label>
                                                                            <input tabindex="36" type="text" id="txtEmergencyContact2State" name="EmergencyContact2State" class="form-control" maxlength="50"
                                                                                   placeholder="" value="@Model.EmergencyContact2State">
                                                                        </div>
                                                                        <div class="three-columns border-bottom-none">
                                                                            <label class="label-fields">@Model.EmergencyContact2Zip</label>
                                                                            <input tabindex="37" type="text" id="txtEmergencyContact2Zip" name="EmergencyContact2Zip" class="form-control" maxlength="20"
                                                                                   placeholder="" value="@Model.EmergencyContact2Zip">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    @*<div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <div class="form-row-first">
                                                <div class="top-form-row d-flex">
                                                    <div class="two-columns">
                                                        <label>Emergency Contact #2</label>
                                                    </div>
                                                    <div class="two-columns">
                                                        <label>Emergency Contact #2</label>
                                                    </div>
                                                </div>
                                                <div class="bootom-form-row d-flex">
                                                    <div class="two-columns">
                                                        <input type="text" id="txtEmergencyContact1" name="EmergencyContact1" class="form-control"
                                                               placeholder=" ">
                                                    </div>
                                                    <div class="two-columns">
                                                        <input type="text" id="txtEmergencyContact2" name="EmergencyContact2" class="form-control"
                                                               placeholder="">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>*@
                                </div>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                        <div class="form-row-first mt-3">
                                            <div class="top-form-row d-flex">
                                                <div class="one-columns">
                                                    <label class="Add">
                                                        How many people in your household in each of
                                                        the following categories
                                                    </label>
                                                    <label class="label-fields">
                                                        People in household having
                                                        following categories
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="bootom-form-row mb-2">
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12 pr-0">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Children under 18</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex ">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.ChildrenUnder18</label>
                                                                    <input tabindex="38" type="number" id="txtChildrenUnder18" name="ChildrenUnder18" maxlength="10"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.ChildrenUnder18">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12 pr-0">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Adults 18-65</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.Adults18to65</label>
                                                                    <input tabindex="39" type="number" id="txtAdults18to65" name="Adults18to65" maxlength="10"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.Adults18to65">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Adults 65+</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.Adults65Plus</label>
                                                                    <input tabindex="40" type="number" id="Adults65Plus" name="Adults65Plus" maxlength="50"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.Adults65Plus">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                        <div class="form-row-first">
                                            <div class="top-form-row d-flex">
                                                <div class="one-columns">
                                                    <label>Preferred Pharmacy</label>
                                                </div>

                                            </div>
                                            <div class="bootom-form-row pb-3 grey-bg">
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12 pr-0">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Name</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.PreferredPharmacyName</label>
                                                                    <input tabindex="41" type="text" id="txtPharmacyName" name="PreferredPharmacyName" maxlength="200"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.PreferredPharmacyName">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-12 col-12 pr-0">
                                                        <div class="form-row-first mt-1">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Location</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.PreferredPharmacyLocation</label>
                                                                    <input tabindex="42" type="text" id="txtPharmacyLocation" name="PreferredPharmacyLocation" maxlength="200"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.PreferredPharmacyLocation">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-row-first">
                                            <div class="top-form-row d-flex">
                                                <div class="three-columns">
                                                    <label class="Add">
                                                        Are you now or were you ever
                                                        a member of the U.S. Armed
                                                        Forces?
                                                    </label>
                                                    <label class="label-fields">
                                                        U.S. Armed Forces
                                                    </label>
                                                </div>
                                                <div class="three-columns">
                                                    <label>Marital status</label>
                                                </div>
                                                <div class="three-columns">
                                                    <label class="Add">
                                                        Which languages do you speak
                                                        comfortably?
                                                    </label>
                                                    <label class="label-fields">
                                                        Languages
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="bootom-form-row d-flex">
                                                <div class="three-columns border-bottom-none">
                                                    <div class="custom-control custom-radio d-inline-block mr-2">
                                                        <label class="label-fields">@Html.Raw(Model.EverMemberOfUSArmedForces == true ? "Yes" : "No")</label>
                                                        <label id="lblUSArmedForces" hidden="hidden">@Model.EverMemberOfUSArmedForces</label>
                                                        <input tabindex="43" type="radio" class="custom-control-input"
                                                               id="MemberRadioYes" onclick="Radio()" name="USArmedRadio"
                                                               value="true">
                                                        <label class="custom-control-label"
                                                               for="MemberRadioYes" value="true">Yes</label>
                                                    </div>
                                                    <div class="custom-control custom-radio  d-inline-block">
                                                        <input tabindex="44" type="radio" class="custom-control-input"
                                                               id="MemberRadioNo" onclick="Radio()" name="USArmedRadio"
                                                               value="false">
                                                        <label class="custom-control-label"
                                                               for="MemberRadioNo" value="false">No</label>
                                                    </div>

                                                </div>
                                                <div class="three-columns border-bottom-none">
                                                    <label class="label-fields" id="lblMarital">@Model.MaritalStatus</label>
                                                    <select tabindex="45" id="ddMaritalStatus" name="MaritalStatus" class="form-control">
                                                        <option value="0">Select</option>
                                                        <option value="Married">Married</option>
                                                        <option value="Single">Single</option>
                                                        <option value="Domestic partnership">
                                                            Domestic partnership
                                                        </option>
                                                        <option value="Divorced">Divorced</option>
                                                        <option value="Separated">Separated</option>
                                                        <option value="Widowed">Widowed</option>
                                                        <option value="Other">Other</option>
                                                    </select>
                                                    <div class="row">
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                                            <div class="form-row-first" id="OtherMaritalStatus" style='display:none'>
                                                                <div class="top-form-row d-flex">
                                                                    <div class="one-columns">
                                                                        <label>
                                                                            Other Marital
                                                                            status
                                                                        </label>
                                                                    </div>

                                                                </div>
                                                                <div class="bootom-form-row d-flex">
                                                                    <div class="one-columns">
                                                                        <label class="label-fields">@Model.OtherMaritalStatus</label>
                                                                        <input tabindex="46" type="text" id="txtOtherMarital" name="OtherMaritalStatus" maxlength="50"
                                                                               class="form-control"
                                                                               placeholder="" value="@Model.OtherMaritalStatus">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="three-columns border-bottom-none">
                                                    <label class="label-fields" id="lblLanguages">@Model.LanguagesSpeak</label>
                                                    <select tabindex="47" id="ddLanguages" class="selectboxmultiple" multiple>
                                                        <option value="Select All">Select All</option>
                                                        <option value="English">English</option>
                                                        <option value="Spanish">Spanish</option>
                                                        <option value="Arabic">
                                                            Arabic
                                                        </option>
                                                        <option value="Amharic">Amharic</option>
                                                        <option value="Tigrinya">Tigrinya</option>
                                                        <option value="Other">Other</option>

                                                    </select>
                                                    <div class="row">
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                                            <div class="form-row-first" id="OtherLanguage" style='display:none'>
                                                                <div class="top-form-row d-flex">
                                                                    <div class="one-columns">
                                                                        <label>Other language</label>
                                                                    </div>

                                                                </div>
                                                                <div class="bootom-form-row d-flex">
                                                                    <div class="one-columns">
                                                                        <label class="label-fields" id="lblOtherLang">@Model.OtherLanguageSpeak</label>
                                                                        <input tabindex="48" type="text" id="txtOtherLanguage" name="OtherLanguageSpeak" maxlength="20"
                                                                               class="form-control"
                                                                               placeholder="" value="@Model.OtherLanguageSpeak">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>


                                        </div>

                                        @*<div class="form-row-first">
                                                <div class="top-form-row d-flex">
                                                    <div class="three-columns">
                                                        <label>Have you ever been a smoker</label>
                                                    </div>
                                                    <div class="three-columns">
                                                        <label>
                                                            What are your preferred
                                                            pronouns
                                                        </label>
                                                    </div>
                                                    <div class="three-columns">
                                                        <label>Do you think of yourself as</label>
                                                    </div>
                                                </div>
                                                <div class="bootom-form-row d-flex">
                                                    <div class="three-columns border-bottom-none">
                                                        <select id="ddSmoker" name="EverBeenSmoker" class="form-control">
                                                            <option value="0">Select</option>
                                                            <option value="true">Yes</option>
                                                            <option value="false">No</option>
                                                        </select>
                                                        <div class="form-row-first mt-2" id="HaveYouQuit" style='display:none'>
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Have you Quit?</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <select id="ddQuit" name="QuitSmoking" class="form-control">
                                                                        <option value="0">Select</option>
                                                                        <option value="true">Yes</option>
                                                                        <option value="false">No</option>
                                                                    </select>
                                                                </div>
                                                            </div>

                                                        </div>

                                                        <div class="form-row-first mt-2" id="QuitDate" style='display:none'>
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>Quit Date</label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex ">
                                                                <div class="one-columns">
                                                                    <input type="text" id="txtQuitDate" name="SmokingQuitDate" class="form-control"
                                                                           placeholder=""  style="width:100px">
                                                                </div>
                                                            </div>

                                                        </div>


                                                    </div>
                                                    <div class="three-columns border-bottom-none">
                                                        <select id="ddPreferredPronouns" name="PreferredPronouns" class="form-control">
                                                            <option value="She/Her">She/Her</option>
                                                            <option value="He/Him">He/Him</option>
                                                            <option value="They/Them">They/Them</option>
                                                            <option value="Other">Other</option>
                                                        </select>
                                                        <div class="row">
                                                            <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                                                <div class="form-row-first mt-2" id="OtherPronouns" style='display:none'>
                                                                    <div class="top-form-row d-flex">
                                                                        <div class="one-columns">
                                                                            <label>Other Pronouns</label>
                                                                        </div>

                                                                    </div>
                                                                    <div class="bootom-form-row d-flex">
                                                                        <div class="one-columns">
                                                                            <input type="text" id="txtOtherPronouns" name="OtherPronouns"
                                                                                   class="form-control"
                                                                                   placeholder="">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="three-columns border-bottom-none">
                                                        <select id="ddThinkYourselfAs" name="ThinkYourselfAs" class="form-control">
                                                            <option value="Straight or Heterosexual">
                                                                Straight or Heterosexual
                                                            </option>
                                                            <option value="Lesbian">Lesbian</option>
                                                            <option value="Gay">Gay</option>
                                                            <option value="Bisexual">Bisexual</option>
                                                            <option value="Queer">Queer</option>
                                                            <option value="Questioning">Questioning</option>
                                                            <option value="Unspecified/Other">Unspecified/Other</option>
                                                        </select>
                                                        <div class="row">
                                                            <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                                                <div class="form-row-first mt-2" id="OtherThinkYouself" style='display:none'>
                                                                    <div class="top-form-row d-flex">
                                                                        <div class="one-columns">
                                                                            <label>
                                                                                Other you think yourself
                                                                                as
                                                                            </label>
                                                                        </div>

                                                                    </div>
                                                                    <div class="bootom-form-row d-flex">
                                                                        <div class="one-columns">
                                                                            <input type="text" id="txtOtherThinkYourself" name="OtherThinkYourselfAs"
                                                                                   class="form-control"
                                                                                   placeholder="">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>*@






                                        <div class="form-row-first">
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-12 p-0">

                                                <div class="bootom-form-row mb-1">
                                                    <div class="row">
                                                        <div class="col-lg-4 col-md-4 col-sm-12 col-12 pr-0">
                                                            <div class="form-row-first mt-1">
                                                                <div class="top-form-row d-flex">
                                                                    <div class="one-columns">
                                                                        <label class="Add">Have you ever been a smoker</label>
                                                                        <label class="label-fields">Smoker</label>
                                                                    </div>

                                                                </div>
                                                                <div class="bootom-form-row d-flex">
                                                                    <div class="one-columns">
                                                                        <label class="label-fields" id="lblSmoker">@Html.Raw(@Model.EverBeenSmoker == true ? "Yes" : "No")</label>
                                                                        <label hidden="hidden" id="lblEverSmoker">@Model.EverBeenSmoker</label>
                                                                        <select tabindex="49" id="ddSmoker" name="EverBeenSmoker" class="form-control">
                                                                            <option value="0">Select</option>
                                                                            <option value="true">Yes</option>
                                                                            <option value="false">No</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-4 col-md-4 col-sm-12 col-12 pr-0" id="divQuit" style="display:none">
                                                            <div class="form-row-first mt-1">
                                                                <div class="top-form-row d-flex">

                                                                    <div class="one-columns">
                                                                        <label class="Add">Have you Quit?</label>
                                                                        <label class="label-fields">Quit</label>
                                                                    </div>

                                                                </div>
                                                                <div class="bootom-form-row d-flex">
                                                                    <div class="one-columns">
                                                                        <label class="label-fields" id="lblQuit">@Html.Raw(@Model.QuitSmoking == true ? "Yes" : "No")</label>
                                                                        <label hidden="hidden" id="lblQuitSmoking">@Model.QuitSmoking</label>
                                                                        <select tabindex="50" id="ddQuit" name="QuitSmoking" class="form-control">
                                                                            <option value="0">Select</option>
                                                                            <option value="true">Yes</option>
                                                                            <option value="false">No</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-4 col-md-4 col-sm-12 col-12" id="divLastTimeYouSmoked" style="display:none">
                                                            <div class="form-row-first mt-1">
                                                                <div class="top-form-row d-flex">
                                                                    <div class="one-columns">
                                                                        <label class="Add">
                                                                            When was the last time you smoked?
                                                                        </label>
                                                                        <label class="label-fields">
                                                                            Last Time You Smoked
                                                                        </label>
                                                                    </div>

                                                                </div>
                                                                <div class="bootom-form-row d-flex">

                                                                    <div class="one-columns">
                                                                        <label class="label-fields" id="lblLastTime">@Model.LastTimeYouSmoked</label>
                                                                        <select tabindex="51" name="LastTimeYouSmoked" class="form-control" id="ddLastTimeYouSmoked">
                                                                            <option value="0">Select</option>
                                                                            <option value="Within the past few days">Within the past few days</option>
                                                                            <option value="1-2 months ago">1-2 months ago</option>
                                                                            <option value="3-6 months ago">3-6 months ago</option>
                                                                            <option value="6 months or more">6 months or more</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="col-lg-4 col-md-4 col-sm-12 col-12" id="divSmokingQuitDate" style="display:none">
                                                            <div class="form-row-first">
                                                                <div class="top-form-row d-flex">
                                                                    <div class="one-columns">
                                                                        <label>Quit Date</label>
                                                                    </div>

                                                                </div>
                                                                <div class="bootom-form-row d-flex">
                                                                    <div class="one-columns">
                                                                        <label class="label-fields">@Model.SmokingQuitDate</label>
                                                                        <input tabindex="52" type="text" autocomplete="off" id="txtQuitDate" name="SmokingQuitDate" class="form-control date" maxlength="50"
                                                                               placeholder="" value="@Model.SmokingQuitDate" style="width:100px">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>




                                        <div class="row">
                                            <div class="col-lg-6 col-md-6 col-sm-12 col-12">
                                                <div class="form-row-first">
                                                    <div class="top-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label class="Add">
                                                                What are your preferred
                                                                pronouns
                                                            </label>
                                                            <label class="label-fields">
                                                                Preferred
                                                                Pronouns
                                                            </label>
                                                        </div>

                                                    </div>
                                                    <div class="bootom-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label class="label-fields" id="lblPronoun">@Model.PreferredPronouns</label>
                                                            <select tabindex="53" id="ddPreferredPronouns" name="PreferredPronouns" class="form-control">
                                                                <option value="0">Select</option>
                                                                <option value="She/Her">She/Her</option>
                                                                <option value="He/Him">He/Him</option>
                                                                <option value="They/Them">They/Them</option>
                                                                <option value="Other">Other</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12" id="divOtherPronouns" style="display:none">
                                                        <div class="form-row-first mt-0 mb-3">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>
                                                                        Other Pronouns
                                                                    </label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.OtherPronouns</label>
                                                                    <input tabindex="54" type="text" id="txtOtherPronouns" name="OtherPronouns" maxlength="50"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.OtherPronouns">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-12 col-12 pl-0">
                                                <div class="form-row-first">
                                                    <div class="top-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label class="Add">Do you think of yourself as</label>
                                                            <label class="label-fields">Think Yourself As</label>
                                                        </div>

                                                    </div>
                                                    <div class="bootom-form-row d-flex">
                                                        <div class="one-columns">
                                                            <label class="label-fields" id="lblThink">@Model.ThinkYourselfAs</label>
                                                            <select tabindex="55" id="ddThinkYourselfAs" name="ThinkYourselfAs" class="form-control">
                                                                <option value="0">Select</option>
                                                                <option value="Straight or Heterosexual">
                                                                    Straight or Heterosexual
                                                                </option>
                                                                <option value="Lesbian">Lesbian</option>
                                                                <option value="Gay">Gay</option>
                                                                <option value="Bisexual">Bisexual</option>
                                                                <option value="Queer">Queer</option>
                                                                <option value="Questioning">Questioning</option>
                                                                <option value="Unspecified/Other">Unspecified/Other</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-12" id="divOtherThinkYourselfAs" style="display:none">
                                                        <div class="form-row-first mt-0 mb-3">
                                                            <div class="top-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label>
                                                                        Other you think yourself
                                                                        as
                                                                    </label>
                                                                </div>

                                                            </div>
                                                            <div class="bootom-form-row d-flex">
                                                                <div class="one-columns">
                                                                    <label class="label-fields">@Model.OtherThinkYourselfAs</label>
                                                                    <input tabindex="56" type="text" id="txtOtherThinkYourself" name="OtherThinkYourselfAs" maxlength="50"
                                                                           class="form-control"
                                                                           placeholder="" value="@Model.OtherThinkYourselfAs">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                <div class="detail-button mt-3 w-100 text-center">
                                    <input type="hidden" name="ClinicID" />
                                    <input type="hidden" name="CreatedDate" />
                                    <input type="hidden" name="ModifiedDate" />
                                    <input id="hdfPatientImg" type="hidden" name="PatientImg" value="@Model.PatientImg" />
                                    <input id="hdfPatientChildrensAges" type="hidden" name="PatientChildrensAges" />
                                    <input id="hdfEverMemberOfUSArmedForces" type="hidden" name="EverMemberOfUSArmedForces" />
                                    <input id="hdfMultipleSelectedRace" type="hidden" name="RaceEthnicity" />
                                    <input id="hdfMultipleSelectedLanguages" type="hidden" name="LanguagesSpeak" />
                                    <input type="hidden" name="PatientID" id="mainpatientid" value="@Model.PatientID" />


                                </div>
                            </form>
                        </div>
                    </div>

                </div>

                <div class="col-lg-4 col-md-12 col-sm-12 col-12 " id="appointement_div" style="display:none">

                    <input hidden="hidden" id="hdnCurrentDate" value="" />
                    <div class="sidebar-right">
                        <div class="appointement" id="appointementContent" style="display:none;height: auto;
    max-height: 450px;">
                            <h3 style="width: auto !important;
                      float: left;">
                                Appointment
                            </h3>
                            <button id="hideAppointmentContent" class="btn btn-link addnotebtn">Close</button>
                            @if (modulePermissions.Where(x => x.ModuleName == "Appointment" && x.CanCreate == true).Any())
                            {
                                <button data-toggle="modal" id="openappointmentpopup" data-target="#AppointmentModal" onclick="addAppointment()" class="btn btn-link addnotebtn"> Add Appointment </button>
                            }
                            <div class="scroll scroll-height" id="appointementlst">


                            </div>
                            <a href="#!" id="loadMore" class="btn btn-link" onclick="getListAllAppointmentsLoadMore()">Load More</a>
                        </div>
                        <div class="appointement appointement-notes" style="display:none">
                            <h3>Notes</h3>
                            <button id="hideNoteContent" class="btn btn-link addnotebtn" style="margin-left:20px">  Close </button>
                            @if (modulePermissions.Where(x => x.ModuleName == "Notes" && x.CanCreate == true).Any())
                            {
                                <button data-toggle="modal" id="opennotepopup" data-target="#notesModal" class="btn btn-link addnotebtn"> Add Note </button>
                            }
                            <button data-toggle="modal" id="opennotepopupreadonly" hidden="hidden" data-target="#notesreadonlyModal" class="btn btn-link addnotebtn"> Add Note </button>
                            <div class="scroll scroll-height" id="notesList">

                            </div>

                        </div>
                    </div>
                </div>

                <!--Sidebar html start-->
                <div class="right_sidebar" id="carePlansSidebar">
                    <div class="right_sidebar_head">
                        <h3>Care Plans</h3>
                        <div class="ml-auto">
                            @*<a href="#" class="btn btn-success" data-toggle="addNewCarePlansSidebar">Add New</a>*@
                            @if (modulePermissions.Where(x => x.ModuleName == "Client" && x.CanUpdate == true).Any())
                            {
                                <a href="javascript:void(0);" class="btn btn-success" onclick="getCareProgramOptions()">Add New</a>
                            }
                            <a class="close_right_sidebar carePlan_sideBar" href="javascript:void(0);"><i class="fa fa-times"></i></a>
                        </div>
                    </div>
                    <div class="right_sidebar_body">
                        <div class="care_plans_table_wrap table-responsive">
                            <table class="table table-hover careplanlist">
                                <thead>
                                    <tr class="table-active text-center">
                                        <th>Care Plan</th>
                                        <th>Programs</th>
                                        <th>Status</th>
                                        <th>Created On</th>
                                        <th>Modified On</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Care Plan Name</td>
                                        <td>Personalized Injury Analysis</td>
                                        <td class="text-center"><span class="status_value completed">Completed</span></td>
                                        <td class="text-right">15-01-2020</td>
                                    </tr>
                                    <tr>
                                        <td>Care Plan Name</td>
                                        <td>List of Most useful physioadvisor Resources</td>
                                        <td class="text-center"><span class="status_value inProgress">In Progress</span></td>
                                        <td class="text-right">15-01-2020</td>
                                    </tr>
                                    <tr>
                                        <td>Care Plan Name</td>
                                        <td>PhysioAdvisor Membership</td>
                                        <td class="text-center"><span class="status_value notStarted">Not Started</span></td>
                                        <td class="text-right">15-01-2020</td>
                                    </tr>
                                    <tr>
                                        <td>Care Plan Name</td>
                                        <td>Referral Advice</td>
                                        <td class="text-center"><span class="status_value asDraft">Saved As Draft</span></td>
                                        <td class="text-right">15-01-2020</td>
                                    </tr>
                                    <tr>


                                        <td>Care Plan Name</td>
                                        <td>Personalized Injury Analysis</td>
                                        <td class="text-center"><span class="status_value notStarted">Not started</span></td>
                                        <td class="text-right">15-01-2020</td>
                                    </tr>
                                    <tr>
                                        <td>Care Plan Name</td>
                                        <td>Referral Advice</td>
                                        <td class="text-center"><span class="status_value notStarted">Not started</span></td>
                                        <td class="text-right">15-01-2020</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                @{
                    Html.RenderPartial("CarePlan/_CareplanSidebar");
                }

            </div>

        </div>
    </div>
    <div class="modal fade" id="ViewCareplanChanges" tabindex="-1" role="dialog" aria-labelledby="ViewCareplanChanges" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered preview-modal" role="document">
            <div class="modal-content" style="height:90%">

                <div class="modal-header preview-header">
                    <h4 class="modal-title">Select Needs and Goals</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body preview-body scroll">

                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="RequestUserModel" tabindex="-1" role="dialog" aria-labelledby="RequestUserModel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered preview-modal" role="document">
            <div class="modal-content" style="height:90%">

                <div class="modal-header preview-header">
                    <h5 class="modal-title" id="PreviewModalTitle">Request</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body preview-body scroll">
                    <div class="form-group">
                        <select class="form-control selectpicker" id="UserAndGroups" title="Select members to add" data-live-search="true" data-selected-text-format="count>0" data-actions-box="true" multiple></select>
                    </div>
                    <div class="form-group">
                        <textarea class="form-control" id="RequestMessage" style="display:block!important;"></textarea>
                    </div>
                    <button class="btn btn-success" id="btnsendAproval" onclick="$(this).prop('disabled',true);;ApprovalOrRevertRequestRequest('1');">Send Request</button>
                    <button class="btn btn-success" id="btnsendRevoke" onclick="$(this).prop('disabled', true);ApprovalOrRevertRequestRequest('3');">Revoke Request</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="AMDProfile" data-toggle="modal" tabindex="-1" role="dialog" aria-labelledby="AMDProfileModal"
         aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content" style="min-height:600px">
                <div class="modal-header">
                    <h5 style="margin: 0;padding: 4px 0;">AMD Profile</h5>
                    <div class="ml-auto">

                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>

                <div class="modal-body">


                </div>
            </div>
        </div>

    </div>
    <!-- Inner content end here  -->
    <!--Notes Modal start here-->
    <div class="modal fade" id="notesModal" tabindex="-1" role="dialog" aria-labelledby="notesModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="notesModalLabel">Client Note</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="formNotes" class="appointement-form">
                        <div class="NotesScroll">
                            <div class="form-group">
                                <label>Select Program:</label>
                                <select id="ddlProgramType" class="form-control" onchange="GetFieldsByProgramID()">
                                    <option value='0'>None</option>
                                    <option value='1'>Clinic</option>
                                    <option value='2'>Dream</option>
                                    <option value='3'>OU</option>
                                    <option value='4'>Peralta College</option>
                                </select>
                            </div>
                            <input hidden="hidden" id="noteshdnID" value="0" />
                            <div class="form-group">
                                <label>Description</label>
                                <textarea cols="2" id="txtNotes1" rows="2" style="height:38px !important" class="form-control"></textarea>

                            </div>
                            <div class="tmpdiv">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" onclick="notescloseModel()" class="btn btn-secondary">Cancel</button>
                            <button type="button" onclick="notesSave()" class="btn btn-primary">Save</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
    <!--Notes mOdal End Here-->
    <!--Notes Modal Readonly start here-->
    <div class="modal fade" id="notesreadonlyModal" tabindex="-1" role="dialog" aria-labelledby="notesreadonlyModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="notesreadonlyModalLabel">Client Note</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="ReadonlyformNotes" class="appointement-form">
                        <div class="ReadonlyNotesScroll">

                            <div class="form-group">
                                <label>Description</label>

                                <label id="txtNotesReadonly1"></label>
                            </div>
                            <div class="tmpdivreadonly">
                            </div>
                        </div>
                        <div class="modal-footer" hidden="hidden">
                            <button type="button" onclick="notescloseModel()" class="btn btn-secondary">Cancel</button>
                            <button type="button" onclick="notesSave()" class="btn btn-primary">Save</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
    <!--Notes mOdal Readonly End Here-->
    <!-- Programe Modal start here  -->
    <div class="programeModal">
        <div class="modal fade" id="myModal">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Add/Remove Client Programs</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body" id="programList">

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Programe Modal end here -->
    <!--Appointment Modal Starts Here-->
    <div class="modal fade" id="AppointmentModal" tabindex="-1" role="dialog" aria-labelledby="AppointmentModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel"> Appointment</h5>
                    <button type="button" class="close" data-dismiss="modal" onclick="closeModel()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="formAppointment" class="appointement-form">
                        <div class="form-group d-flex align-items-center">
                            <label for="staticEmail" class="m-0"> Date:</label>
                            <input type="text" class="form-control dispaly-input-select" id="datepicker" placeholder="">
                        </div>

                        <div class="form-group d-flex align-items-center">
                            <label for="inputPassword" class="m-0"> Start Time:</label>
                            <input type="text" class="form-control timepicker _time_picker dispaly-input-select" id="timepicker" placeholder="">
                        </div>

                        <div class="form-group d-flex align-items-center">
                            <label for="inputPassword" class="m-0"> End Time:</label>
                            <input type="text" class="form-control timepicker _time_picker dispaly-input-select" id="endtimepicker" placeholder="">
                        </div>

                        @*<div class="form-group d-flex align-items-center">
                            <label for="inputPassword">Select Patient</label>
                            <input id="autoPatientList" class="form-control" />*@

                        @*<select class="form-control select2" id="example1" name="state">

                                <option value="">John</option>
                                <option>Eric Jones</option>
                                <option>Elina</option>
                                <option>Thomas</option>

                            </select>*@


                        @*</div>*@
                        <div class="form-group d-flex align-items-center">
                            <label for="inputPassword">Type:</label>
                            <select tabindex="13" id="ddlTypeOfAppointment" class="form-control dispaly-input-select"></select>
                        </div>
                        <div class="form-group d-flex align-items-center">
                            <label for="inputPassword">Location:</label>
                            <select tabindex="13" id="ddlLocationOfAppointment" class="form-control dispaly-input-select"></select>
                        </div>

                        <div class="form-group mb-0 d-flex align-items-center">
                            <label for="inputPassword">Notes</label>
                            <textarea cols="10" id="txtNotes" rows="5" class="form-control dispaly-input-select"></textarea>
                            <input type="hidden" value="0" id="hdnAppointmentID" />
                            <input type="hidden" value="0" id="hdnPatientId" />
                        </div>
                        <div class="modal-footer">
                            <button id="closeAppointmentModel" type="button" onclick="closeModel()" class="btn btn-secondary" data-dismiss="modal" aria-label="Close">Cancel</button>
                            <button type="button" onclick="saveAppointment()" class="btn btn-primary">Save</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
    <!-- Appointment Modal end here -->
    <!--AddCarePlan Modal Starts Here-->
    <div class="modal fade" id="AddCarePlanModal" tabindex="-1" role="dialog" aria-labelledby="AddCarePlanModal"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"> Add Care plan</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form createtemplate">
                        <div class="form-group col-md-12">
                            <label for="templateName">Care plan name</label>
                            <input type="text" class="form-control form-control-sm" id="carePlanName">
                        </div>
                        <div class="form-group col-md-12">
                            <label for="ddlProgram">Select program</label>
                            <select class="form-control form-control-sm" id="ddlProgram"></select>
                        </div>
                    </div>
                    <div class="notemplate" style="display: block;">
                        <p class="text-center">No programs available for careplan creation.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <a href='javascript:{}' class="btn btn-success label-fields btnCareplanProceed" onclick="saveCareplan()">Proceed</a>
                </div>
            </div>
        </div>
    </div>
    <!-- AddCarePlan Modal end here -->
    <!--CarePlan Change Status Modal Starts Here-->
    <div class="modal fade" id="CarePlanChangeStatusModal" tabindex="-1" role="dialog" aria-labelledby="CarePlanChangeStatusModal"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Change Status</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="status_description">
                        <label>Description</label>
                        <p>Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy.</p>
                    </div>
                    <div class="form row">
                        <div class="form-group col-md-12">
                            <label>Select Status</label>
                            <select class="form-control form-control-sm ddlStatus">
                                <option value="0">Not Started</option>
                                <option value="1">In Progress</option>
                                <option value="2">Completed</option>
                            </select>
                        </div>
                        <div class="form-group col-md-12">
                            <label for="ddlProgram">Add Note</label>
                            <textarea class="form-control form-control-sm needNote"></textarea>
                            <textarea class="form-control form-control-sm goalNote"></textarea>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a href='javascript:{}' class="btn btn-success label-fields submitNeedStatus" onclick="UpdateNeedStatus()">Submit</a>
                    <a href='javascript:{}' class="btn btn-success label-fields submitGoalStatus" onclick="UpdateGoalStatus()">Submit</a>
                </div>
            </div>
        </div>
    </div>
    <!-- CarePlan Change Status Modal end here -->
    <!--CarePlan Outcome Modal Starts Here-->
    <div class="modal fade carePlanOutcomes" id="carePlanOutcomes" tabindex="-1" role="dialog" aria-labelledby="carePlanOutcomes"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title outcomeTitle">Outcomes(<span class="outcomecount">0</span>)</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="addOutcomeWrap">
                        <div class="addNewOutcome">
                            <div class="a_outcome_item">
                                <div class="a_o_head">
                                    <div class="a_o_head_name">
                                        <span class="name_thumb c_blue">@Session["OutcomeAddedBy"]</span>
                                        @*<input type="text" name="add-New-Outcome" class="txtOutcome" placeholder="+ Add New Outcomes">*@
                                        <textarea class="txtOutcome" placeholder="+ Add New Outcomes" onkeyup="textAreaAdjust(this)"></textarea>
                                        <textarea class="txtIntervention" placeholder="+ Add New Intervention" onkeyup="textAreaAdjust(this)"></textarea>
                                    </div>
                                </div>
                                <div class="addNewHeadAction">
                                    <button type="button" class="checkBtn btnOutcome" onclick="SaveOutCome(this)"><i class="fa fa-check"></i></button>
                                    <button type="button" class="checkBtn btnIntervention" onclick="SaveIntervention(this)"><i class="fa fa-check"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="a_outcome_list_wrap">
                            <div class="a_outcome_list scroll">
                                <div class="a_outcome_item">
                                    <div class="a_o_head">
                                        <div class="a_o_head_name">
                                            <span class="name_thumb c_blue">AD</span><strong>Amardeep Singh</strong>
                                        </div>
                                        <div class="a_o_date">Jan 08, 2020 at 11:10 AM</div>
                                    </div>
                                    <div class="a_o_content">
                                        Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s
                                        <div class="status_changed"><b>Status Changed:</b> From Not Started To In Progress</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- CarePlan Outcome Modal end here -->
    <!--CarePlan Summary Modal Starts Here-->
    <div class="modal fade" id="AddSummaryModal" tabindex="-1" role="dialog" aria-labelledby="AddSummaryModal"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Care Plan Summary</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form">
                        <div class="form-group col-md-12">
                            <label>Next Review Date</label>
                            <input type="text" class="form-control txtNextReviewDate" />
                        </div>
                        <div class="form-group col-md-12">
                            <label>Summary</label>
                            <textarea class="form-control form-control-sm txtSummaryNote"></textarea>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a href='javascript:{}' class="btn btn-default label-fields" onclick="clearSummary()">Cancel</a>
                    <a href='javascript:{}' class="btn btn-success label-fields" onclick="AddSummary()">Submit</a>
                </div>
            </div>
        </div>
    </div>
    <!-- CarePlan Summary Modal end here -->
    <!--Default need popup start here-->
    <div class="modal fade defaultsNeedsGoals" id="DefaultNeedsPopUp" tabindex="-1" role="dialog" aria-labelledby="DefaultNeedsPopUp"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title defaultNeedTitle">Default Needs</h5>
                    <button type="button" class="close" aria-label="Close">
                        <span aria-hidden="true" class="closeDefaultNeed">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="defaultsNeedsGoals_div">
                        <div class="d_n_actions defaultNeedAction d-flex">
                            <label class="checkbox_input"><input class="defaultallneed" type="checkbox" onchange="checkAllDefaultNeed(this)" name="defaultNeeds" value="" /><span>Select All </span></label>
                            <a href="#" class="btn btn-success ml-auto" onclick="AddDefaultneeds()">Add to care plan</a>
                            <a href="#" class="btn btn-success" onclick="closeDefaultNeed()">Add new need</a>
                            <a href="#" class="btn btn-success btn-cancel" onclick="closeDefaultNeed()">Cancel</a>
                        </div>
                        <div class="d_n_actions defaultGoalAction d-none">
                            <label class="checkbox_input"><input class="defaultallneed" type="checkbox" onchange="checkAllDefaultNeed(this)" name="defaultNeeds" value="" /><span>Select All </span></label>
                            <a href="#" class="btn btn-success ml-auto" onclick="AddDefaultgoals()">Add to need</a>
                            <a href="#" class="btn btn-success" onclick="focusAddGoals()">Add new goal</a>
                            <a href="#" class="btn btn-success btn-cancel" onclick="closeDefaultGoals()">Cancel</a>
                        </div>
                        <ul class="defaultneedul scroll">
                            <li>
                                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text</p>
                                <label class="checkbox_input"><input type="checkbox" name="defaultNeeds" value="" /><span></span></label>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<!--Default need popup end here-->
<script>
    var userId = "@Session["userid"]";
    var PatientId ="@Model.PatientID";
    var IsUserCarePlanApprover = '@Session["IsCarePlanApprover"]'
    var IsRequestSent = false;
    var IsCarePlanChanged = false;
    var IsCarePlanApproved = false;
    var RequestType = '';
    var RequestStatus = 0;
    var RequestId=0
    var careplanUploadedPath = "@System.Web.Configuration.WebConfigurationManager.AppSettings["CarePlanUploadPath"]";
    var canEditClient = '@modulePermissions.Where(x => x.ModuleName == "Client" && x.CanUpdate == true).Any()'
</script>
@*<script src="~/Scripts/jquery-ui.js"></script>*@
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.16/dist/summernote-lite.min.js"></script>
<script src="~/Content/script/jquery.timeselector.js"></script>
<script src="~/Scripts/Careplan/CareplanPatient.js"></script>
<script src="~/Scripts/Careplan/CareplanNeedsAndGoals.js"></script>
<script src="~/Scripts/Careplan/CarePlanSummary.js"></script>
<script>
    var isAzaxRequestSent = false;
    $('#UserAndGroups').closest('.form-group').show();
    var selectedNeeds = [];
    var selectedGoals = [];
    function OpenViewCarePlanChanges() {
        $.ajax({
            type: "Get",
            url: Apipath + '/api/PatientMain/getchangedneedsandgoals?careplanid=' + careplanid +'&isChecked=false',
            contentType: 'application/json; charset=UTF-8',
            dataType: "json",
            async: false,
            success: function (result) {
                if(result.length>0){

                var html=""
                var needs = result.filter(c => !c.IsGoal);
                    var goals = result.filter(c => c.IsGoal);

                html += `<div class="selectAll"><div class="form-group"><label class="checkbox_input"><input class="Need" id="selectAllNeedsGoals" onchange="SelectAllNeedGoals()" type="checkbox" name="select-all" value="" checked><span>Select All</span></label></div></div><ul class="needGoalsChecklist">`
                    for (let i = 0; i < needs.length; i++) {
                        var needStatus = ''

                         if (needs[i].IsChanged == 1)
                            needStatus = " (edited)";

                    var NeedGoals = goals.filter(c => c.NeedId == needs[i].NeedId);
                    html += `<li><div class="form-group active ${NeedGoals.length>0?'hasGoal':''}"><label class="checkbox_input" for="${needs[i].NeedId + 'need'}"><input class="Need" type="checkbox" id="${needs[i].NeedId + 'need'}" name="needs" value="${needs[i].NeedId}" checked>
                              <span>${needs[i].Description}</span><span class="grey-text">${needStatus}</span></label>`

                    if (NeedGoals.length > 0) {
                        html += `<i class="down_arrow fa fa-chevron-down"></i>`
                    }
                    html += `</div>`

                    if (NeedGoals.length > 0) {
                        html+=`<ul>`
                        for (let j = 0; j < NeedGoals.length; j++) {

                            var goalStatus = ''

                             if (NeedGoals[j].IsChanged == 1)
                                goalStatus = " (edited)";

                            html += `<li><div class="form-group"><label class="checkbox_input"for="${NeedGoals[j].GoalId + 'goal'}"><input class="goal" type="checkbox" id="${NeedGoals[j].GoalId + 'goal'}" name="goals" value="${NeedGoals[j].GoalId}" checked>
                             <span> ${NeedGoals[j].Description}</span><span class="grey-text">${goalStatus}</span></label></div></li>`
                        }
                        html +=`</ul>`
                    }
                    html += `</li>`
                }
                html += `</ul>`

                html +=`<button class="btn-success"  onclick="ChooseUsersPopUp('1')">Continue</button>`
                $('#ViewCareplanChanges .modal-body').html(html)

                  }else{
              $('#ViewCareplanChanges .modal-body').html("<div>No change in needs and goals</div>")
                  }
                $('#ViewCareplanChanges').modal('show');
                $('ul.needGoalsChecklist > li > .form-group').off('click');

                $('ul.needGoalsChecklist > li > .form-group .down_arrow').on('click', function () {

                    $(this).parents('.form-group').toggleClass('active');
                    $(this).parents('li').find('ul').slideToggle();

                })

                $('#ViewCareplanChanges input:checkbox[name=needs],#ViewCareplanChanges input:checkbox[name=goals]').off('change')
                $('#ViewCareplanChanges input:checkbox[name=needs],#ViewCareplanChanges input:checkbox[name=goals]').on('change', function () {
                    $('#selectAllNeedsGoals').prop('checked',false)
                })

            },
            error: function (e) {
                toastr.error("Unexpected error!");
                $(".loaderOverlay").hide();
            }
        });



    }


    function SelectAllNeedGoals(){

   if($('#selectAllNeedsGoals').prop("checked")){
     $("input:checkbox[name=needs]").prop('checked',true);
     $("input:checkbox[name=goals]").prop('checked',true);
    }else{
    $("input:checkbox[name=needs]").prop('checked',false);
     $("input:checkbox[name=goals]").prop('checked',false);

    }
    }

    function ChooseUsersPopUp(type) {
        selectedNeeds = [];
        selectedGoals = [];

        //Selected checkBox here
        $("input:checkbox[name=needs]:checked").each(function () {
            selectedNeeds.push($(this).val());
        });
        $("input:checkbox[name=goals]:checked").each(function () {
            selectedGoals.push($(this).val());
        });

        $('#ViewCareplanChanges').modal('hide');
        $('#RequestMessage').val("")
        if (type == '1') {
            $('#btnsendAproval').show();
            $('#btnsendRevoke').hide();
            $.ajax({
                type: "Get",
                url: Apipath + '/api/PatientMain/getapproversusersandgroups',
                contentType: 'application/json; charset=UTF-8',
                dataType: "json",
                async: false,
                success: function (result) {
                    var options=''
                    $.each(result, function (index, item) {
                        if (!item.IsGroup) {
                            options += `<option data-tokens=" ${item.Name + '(' + item.Email + ')'}"
                           value="${item.id}:${item.IsGroup}">
                           ${item.Name + '(' + item.Email + ')'}
                           </option>`
                        }
                        else {
                            options += `<option data-tokens="${item.Name}"
                            value="${item.id}:${item.IsGroup}">
                           ${item.Name} (Group)
                           </option>`
                        }
                    })
                    $('#UserAndGroups').html(options);
                    $('#UserAndGroups').selectpicker();
                    $("#UserAndGroups").val('default');
                    $("#UserAndGroups").selectpicker("refresh");


                },
                error: function (e) {
                    toastr.error("Unexpected error!");
                    $(".loaderOverlay").hide();
                }
            });
            $('#UserAndGroups').closest('.form-group').show();
        } else {
            $('#UserAndGroups').closest('.form-group').hide();
            $('#btnsendAproval').hide();
            $('#btnsendRevoke').show();
        }
        $('#RequestUserModel').modal('show');

    }

    function ApprovalOrRevertRequestRequest(type) {
        if (isAzaxRequestSent) {
            $('#btnsendAproval').prop('disabled', false);
            $('#btnsendRevoke').prop('disabled', false)
            return
        }
        isAzaxRequestSent = true

        setTimeout(function () {
            isAzaxRequestSent = false

        },1000)
        var SelectedUsers = [];
        var SelectedGroups = [];

        if (type == 1) {
            var UsersNGroups = $('#UserAndGroups').val();
            for (let i = 0; i < UsersNGroups.length; i++) {
                var value = UsersNGroups[i].split(':');
                if (value[1]=='true') {
                    SelectedGroups.push(value[0])
                }
                else {
                    SelectedUsers.push(value[0])
                }
            }
            if (SelectedUsers.length <= 0 && SelectedGroups.length <= 0) {
                toastr.error("Please select atleast  an user or a group");

                $('#btnsendAproval').prop('disabled', false);
                $('#btnsendRevoke').prop('disabled',false)
                return
            }
            if ($('#RequestMessage').val().trim() == '') {
                toastr.error("Please write a message");

                $('#btnsendAproval').prop('disabled', false);
                $('#btnsendRevoke').prop('disabled', false)
                return
            }
        }
        if (type == 3) {
            if ($('#RequestMessage').val().trim() == '') {
                toastr.error("Please write a message");

                $('#btnsendAproval').prop('disabled', false);
                $('#btnsendRevoke').prop('disabled', false)
                return
            }
        }
        var message = $('#RequestMessage').val()
        if (message != null) {
            message = message.trim();
        }
        var Model = {
            Message: message,
            SentBy: userId,
            RequestId: RequestId,
            CareplanId: careplanid,
            UserIds: SelectedUsers,
            GroupIds: SelectedGroups,
            Needs: selectedNeeds,
            Goals: selectedGoals,
            Type: type
        };
        hideAprovalBtnStatus();
        $.ajax({
            type: "Post",
            url: Apipath + '/api/PatientMain/sendcareplanrequest',
            data: JSON.stringify(Model),
            contentType: 'application/json; charset=UTF-8',
            dataType: "json",
            async: false,
            success: function (result) {


                if (result == 1) {
                    toastr.success("Approval Request has sent successfully");
                    //$('#careplanStatus').css('display', 'block');
                    //$('#careplanStatus .ApprovalRequestSent').css('display', 'block')
                    //$('#btnRevertRequest').css('display', 'block');
                    $('#RequestUserModel').modal('hide')
                    IsRequestSent=true
                }
                else if (result == 2) {
                    toastr.success("Approval request is reverted");
                    $('#btnApproval').css('display', 'block');
                    $('#btnApproval').prop('disabled',false)
                    IsRequestSent = false;
                }
                else if (result == 3) {
                    toastr.error("Approval request cant be reverted");
                    $('#btnRevokeRequest').css('display', 'block');
                    IsRequestSent = true;
                }
                else if (result == 4) {
                    toastr.success("Revoke Request has sent successfully");
                    //$('#careplanStatus').css('display', 'block');
                    //$('#careplanStatus .RevokeRequestSent').css('display', 'block')
                    $('#RequestUserModel').modal('hide')
                }
                else if (result == 5) {
                    $('#btnApproval').css('display', 'block');
                    toastr.error("Revoke Request cant be sent");
                    IsRequestSent =false;
                }
                else if (result == 6) {
                    toastr.success("Approval request has already been sent");
                    IsRequestSent = false;
                    $('#RequestUserModel').modal('hide')
                }
                getCarePlanRequest()
                //$('#btnsendAproval').prop('disabled', false);
                //$('#btnsendRevoke').prop('disabled',false)
            },
            error: function (e) {

                $('#btnsendAproval').prop('disabled', false);
                $('#btnsendRevoke').prop('disabled', false)
                toastr.error("Unexpected error!");
                $(".loaderOverlay").hide();
            }
        });

    }


    $(".scroll").scroll(function () {
        var sticky = $('.sidebar-right'),
            scroll = $(".scroll").scrollTop();

        if (scroll >= 20) sticky.addClass('fixed');
        else sticky.removeClass('fixed');
    });
    $(".ssn-icon-eye").click(function () {
        $(this).toggleClass("showpwd");
    });


    $(".ssn-icon-label").click(function () {
        $(this).toggleClass("showlbl");
    });
    function showSSn() {
        $("#txtSocialSecNo").attr("type", "text");
    }
    function Hidessn() {
        $("#txtSocialSecNo").attr("type", "password");
    }
    function showSSnlabel() {
        $(".stardiv").hide();
        $(".lbl-hide").show();
    }

    function Hidessnlabel() {
        $(".stardiv").show();
        $(".lbl-hide").hide();
    }
    $('._time_picker').timeselector({
        hours12: true
    });
    function addAppointment() {
        emptyModel();
     //   $('#AppointmentModal').modal('show');
    }
    function closeModel() {
      emptyModel();
      //  $('#AppointmentModal').modal('hide');
    }


    function GetTypeOfAppointments(closeloader = true) {
        $.ajax({
            type: "GET",
            url: Apipath + '/api/PatientMain/getTypeOfAppointments',
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            beforeSend: function () {
                if (closeloader) {
                    _Loader.StartLoader();
                }

            },
            success: function (result) {
                $('#ddlTypeOfAppointment').html('');
                var txt = '<option value="0">Select</option>';
                for (var i = 0; i < result.length; i++) {
                    txt += '<option value="' + result[i].Id + '">' + result[i].TypeOfAppointments + '</option>';

                }
                $('#ddlTypeOfAppointment').html(txt);

            },
            complete: function () {
                if (closeloader) {
                       _Loader.StopLoader();
                }
            },
            error: function (e) {
                  _Loader.StopLoader();
                toastr.error("Unexpected error!");
            }
        });
    }

    var isAppointmentAndLocationLoaded = false
    function LoadAppointmentsAndLocations() {
        if (!isAppointmentAndLocationLoaded) {
            getListAllAppointments(false);
            GetTypeOfAppointments(false);
            GetLocationOfAppointments(false);
        }
        isAppointmentAndLocationLoaded = true


    }

    function GetLocationOfAppointments(startLoader = true) {

        $.ajax({
            type: "GET",
            url: Apipath + '/api/PatientMain/getLocationOfAppointments',
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            beforeSend: function () {
                if (startLoader) {
                     _Loader.StartLoader();
                }
            },
            success: function (result) {
                $('#ddlLocationOfAppointment').html('');
                var txt = '<option value="0">Select</option>';
                for (var i = 0; i < result.length; i++) {
                    txt += '<option value="' + result[i].Id + '">' + result[i].LocationOfAppointment + '</option>';
                }
                $('#ddlLocationOfAppointment').html(txt);


            },
            complete: function () {
                 _Loader.StopLoader();
            },
            error: function (e) {
                 _Loader.StopLoader();
                toastr.error("Unexpected error!");
            }
        });
    }

    function emptyModel() {
        $("#hdnAppointmentID").val(0);
        $("#datepicker").val("");
        $("#timepicker").val("");
        $("#endtimepicker").val("");
        $("#example1").val("");
        $("#txtNotes").val("");
        $("#hdnPatientId").val("");
        $("#autoPatientList").val("");
        $('#ddlTypeOfAppointment').val(0);
        $('#ddlLocationOfAppointment').val(0);
    }

    // save new appointment
    function saveAppointment(appointmentInfo) {

        var data = {};

        if (typeof appointmentInfo == "undefined") {
            data = {
                PatientAppointmentID: $("#hdnAppointmentID").val(),
                AppointmentDate: $("#datepicker").val(),
                AppointmentTime: $("#timepicker").val(),
                PatientID: @Model.PatientID,
                Notes: $("#txtNotes").val(),
                TypeOfAppointment: $('#ddlTypeOfAppointment').val(),
                LocationOfAppointment: $('#ddlLocationOfAppointment').val(),
                AppointmentEndTime: $("#endtimepicker").val()
            }
        }
        else {
            data = appointmentInfo;
        }

        if (data.AppointmentDate == "" || data.AppointmentTime == "" || data.PatientID == "" || data.Notes == "") {
            toastr.error("All fields are required");
            return false;
        }
        $.ajax({
            type: "POST",
            url: Apipath + '/api/PatientMain/AddPatientAppointment',
            data: JSON.stringify(data),
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            success: function (result) {
               // $('#AppointmentModal').modal('hide');
                emptyModel();
                $("#closeAppointmentModel").click();
                getListAllAppointments();
                    toastr.success("Appointment saved successfully");
            },
            error: function (err) {

                toastr.error("Error while inserting data");
            }
        });
    }


    $(document).ready(function () {

        //GetTypeOfAppointments();
        //GetLocationOfAppointments();

    });
    function addChildrenDiv() {
        $('.ChildrenAgeDiv').html('');

        var val = $('#txtChildren').val();

        var divhtml = '';

        for (var i = 1; i <= parseInt(val); i++) {

            var temp = $('.ChildrenAgeTemplate').html();
            temp = temp.replace('#number', i);
            temp = temp.replace('#yearid', 'child_year_' + i);
            temp = temp.replace('#daysid', 'child_days_' + i);
            divhtml = divhtml + temp;
        }

        $('.ChildrenAgeDiv').html(divhtml);
    }
</script>

